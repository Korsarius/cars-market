<!-- If toggle === true -->
<div class="filter-toggle">
  <app-cars-filter
    *ngIf="!categoryView"
    (filterValue)="filterOut($event)"
  ></app-cars-filter>
  <div>
    <mat-list role="list" *ngIf="categoryView">
      <mat-list-item
        class="category"
        role="listitem"
        *ngFor="let category of carsCategory"
        (click)="getCarsOnCategory(category)"
        >{{
          category.charAt(0).toUpperCase() + category.slice(1)
        }}</mat-list-item
      >
    </mat-list>
  </div>
  <div class="toggle">
    <mat-slide-toggle (click)="changeCategoryView(!categoryView)"
      >View By Category</mat-slide-toggle
    >
  </div>
</div>
<section class="cars-by-category" *ngIf="categoryView && selectedCarsOnCategory && selectedCarsOnCategory.length > 0">
  <div class="cars-list" *ngIf="categoryView && selectedCarsOnCategory">
    <mat-selection-list #cars [multiple]="false" id="selectedCars">
      <mat-list-option
        *ngFor="let car of selectedCarsOnCategory"
        (click)="selectCar(car)"
      >
        <h3>{{ car.model }}</h3>
        <p>{{ car.brand }}</p>
      </mat-list-option>
    </mat-selection-list>
  </div>
  <div class="selected-car" *ngIf="defaultCar && isCategorySelected">
    <img
      ngDefaultControl
      class="selected-car-img"
      src="{{ defaultCar.image }}"
      alt="selected-car-img"
    />
  </div>
  <div class="selected-car" *ngIf="!defaultCar && isCategorySelected">
    <img
      ngDefaultControl
      class="selected-car-img"
      src="{{ selectedCar.image }}"
      alt="selected-car-img"
    />
  </div>
  <div class="selected-car-info" *ngIf="defaultCar && isCategorySelected">
    <h3>{{ defaultCar.model }}</h3>
    <ul class="car-properties">
      <li>
        Dealers: <span>{{ defaultCar.brand }}</span>
      </li>
      <li>
        Class: <span>{{ defaultCar.class }}</span>
      </li>
      <li>
        Year: <span>{{ defaultCar.year }}</span>
      </li>
      <li>
        Color: <span>{{ defaultCar.color }}</span>
      </li>
    </ul>
  </div>
  <div class="selected-car-info" *ngIf="!defaultCar && isCategorySelected">
    <h3>{{ selectedCar.model }}</h3>
    <ul class="car-properties">
      <li>
        Dealers: <span>{{ selectedCar.brand }}</span>
      </li>
      <li>
        Class: <span>{{ selectedCar.class }}</span>
      </li>
      <li>
        Year: <span>{{ selectedCar.year }}</span>
      </li>
      <li>
        Color: <span>{{ selectedCar.color }}</span>
      </li>
    </ul>
  </div>
</section>
<!-- If toggle === false -->
<section class="cars" *ngIf="!categoryView">
  <app-card
    class="card"
    *ngFor="let car of filteredCars.length === 0 ? trimmedCars : filteredCars"
    [car]="car"
  ></app-card>
</section>
<div class="load-more" *ngIf="!categoryView">
  <button
    class="load-more-btn"
    mat-raised-button
    color="accent"
    *ngIf="filteredCars.length === 0"
    (click)="cars.length !== trimmedCars.length ? loadMore() : rollUp()"
  >
    {{ cars.length === trimmedCars.length ? "Roll Up" : "Load More" }}
  </button>
</div>
